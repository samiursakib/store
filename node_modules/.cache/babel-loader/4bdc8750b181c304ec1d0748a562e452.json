{"ast":null,"code":"var _jsxFileName = \"/home/sakib/Documents/Level-3 Term-1/CSE 326 Internet Programming L/store/src/section/Product.js\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { getProducts, getCreatedProduct, getUpdatedProduct, getDeletedProduct } from \"../app/api\"; // Components\n\nimport { ProductTable } from \"../components/Table\";\nimport { CreateProduct } from \"../components/Create\";\nimport { UpdateProduct } from \"../components/Update\";\nimport { DeleteProduct } from \"../components/Delete\";\nimport Modal from \"../components/Modal\";\nimport Pagination from \"../components/Pagination\";\nimport Loader from \"../components/Loader\";\nimport MySwal from \"../index\";\nexport const Product = () => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [currentProduct, setCurrentProduct] = useState({\n    id: null,\n    name: '',\n    image: '',\n    price: null,\n    description: ''\n  });\n  const [products, setProducts] = useState([]);\n  const [activeModal, setActiveModal] = useState({\n    name: \"\",\n    active: false\n  });\n  const [pageSize] = useState(5);\n  const [currentPage, setCurrentPage] = useState(1);\n  getProducts().then(response => {\n    setProducts(response.data);\n  }).catch(e => {\n    console.log(e);\n  });\n  const productsLastIndex = currentPage * pageSize;\n  const productsFirstIndex = productsLastIndex - pageSize;\n  const currentProducts = products.slice(productsFirstIndex, productsLastIndex); // Setting up Modal\n\n  const setModal = modal => {\n    // search(\"\");\n    setActiveModal({\n      name: modal,\n      active: true\n    });\n  }; // Pagination\n\n\n  const paginate = page => {\n    setCurrentPage(page);\n  }; // Create Product\n\n\n  const createProduct = async product => {\n    setActiveModal(false);\n    setLoading(true);\n\n    try {\n      await getCreatedProduct(product).then(res => {\n        const result = res.data;\n        MySwal.fire({\n          icon: \"success\",\n          title: \"Product created successfully.\"\n        }).then(() => {\n          dispatch({\n            type: \"CREATE_PRODUCT\",\n            data: result\n          });\n          setProducts([...products, result]);\n        });\n      });\n    } catch (err) {\n      MySwal.fire({\n        icon: \"error\",\n        title: \"Failed to create product.\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  }; // Update Product\n\n\n  const updateRow = product => {\n    setModal(\"Update Product\");\n    setCurrentProduct({\n      id: product.id,\n      name: product.name,\n      image: product.image,\n      price: product.price,\n      description: product.description\n    });\n  };\n\n  const updateProduct = async (id, updatedProduct) => {\n    setActiveModal(false);\n    setLoading(true);\n\n    try {\n      await getUpdatedProduct(id, updatedProduct).then(res => {\n        const result = res.data;\n        MySwal.fire({\n          icon: \"success\",\n          title: \"Product updated successfully.\"\n        }).then(() => {\n          dispatch({\n            type: \"SET_PRODUCTS\",\n            data: products.map(product => product.id === id ? Object.assign(product, result) : product)\n          });\n        });\n      });\n    } catch (err) {\n      MySwal.fire({\n        icon: \"error\",\n        title: \"Failed to update product.\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  }; // Delete Product\n\n\n  const deleteRow = product => {\n    setModal(\"Delete Product\");\n    setCurrentProduct({\n      id: product.id,\n      name: product.name,\n      image: product.image,\n      price: product.price,\n      description: product.description\n    });\n  };\n\n  const deleteProduct = async id => {\n    setActiveModal(false);\n    setLoading(true);\n\n    try {\n      await getDeletedProduct(id).then(() => {\n        MySwal.fire({\n          icon: \"success\",\n          title: \"Product deleted successfully.\"\n        }).then(() => {\n          dispatch({\n            type: \"SET_PRODUCTS\",\n            data: products.filter(product => product.id !== id)\n          });\n          setProducts(products.filter(product => product.id !== id));\n          setCurrentPage(1);\n        });\n      });\n    } catch (err) {\n      MySwal.fire({\n        icon: \"error\",\n        title: \"Failed to delete product.\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toolbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"primary-btn\",\n    onClick: () => setModal(\"Create Product\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, \"Create New Product\")), /*#__PURE__*/React.createElement(ProductTable, {\n    products: currentProducts,\n    updateRow: updateRow,\n    deleteRow: deleteRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    totalResults: products.length,\n    currentPage: currentPage,\n    pageSize: pageSize,\n    paginate: paginate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  })))), activeModal.active && /*#__PURE__*/React.createElement(Modal, {\n    activeModal: activeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, activeModal.name === \"Create Product\" && /*#__PURE__*/React.createElement(CreateProduct, {\n    createProduct: createProduct,\n    setActiveModal: setActiveModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }), activeModal.name === \"Update Product\" && /*#__PURE__*/React.createElement(UpdateProduct, {\n    currentProduct: currentProduct,\n    updateProduct: updateProduct,\n    setActiveModal: setActiveModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }), activeModal.name === \"Delete Product\" && /*#__PURE__*/React.createElement(DeleteProduct, {\n    currentProduct: currentProduct,\n    deleteProduct: deleteProduct,\n    setActiveModal: setActiveModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  })));\n};","map":{"version":3,"sources":["/home/sakib/Documents/Level-3 Term-1/CSE 326 Internet Programming L/store/src/section/Product.js"],"names":["React","useState","useDispatch","getProducts","getCreatedProduct","getUpdatedProduct","getDeletedProduct","ProductTable","CreateProduct","UpdateProduct","DeleteProduct","Modal","Pagination","Loader","MySwal","Product","dispatch","loading","setLoading","currentProduct","setCurrentProduct","id","name","image","price","description","products","setProducts","activeModal","setActiveModal","active","pageSize","currentPage","setCurrentPage","then","response","data","catch","e","console","log","productsLastIndex","productsFirstIndex","currentProducts","slice","setModal","modal","paginate","page","createProduct","product","res","result","fire","icon","title","type","err","updateRow","updateProduct","updatedProduct","map","Object","assign","deleteRow","deleteProduct","filter","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  getProducts,\n  getCreatedProduct,\n  getUpdatedProduct,\n  getDeletedProduct\n} from \"../app/api\";\n\n// Components\nimport { ProductTable } from \"../components/Table\";\nimport { CreateProduct } from \"../components/Create\";\nimport { UpdateProduct } from \"../components/Update\";\nimport { DeleteProduct } from \"../components/Delete\";\nimport Modal from \"../components/Modal\";\nimport Pagination from \"../components/Pagination\";\nimport Loader from \"../components/Loader\";\nimport MySwal from \"../index\";\n\nexport const Product = () => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);  \n  const [currentProduct, setCurrentProduct] = useState({\n    id: null,\n    name: '',\n    image: '',\n    price: null,\n    description: ''\n  });\n  const [products, setProducts] = useState([]);\n  const [activeModal, setActiveModal] = useState({ name: \"\", active: false });\n  const [pageSize] = useState(5);\n  const [currentPage, setCurrentPage] = useState(1);\n  \n  getProducts()\n    .then((response) => {\n      setProducts(response.data);\n    })\n    .catch(e => {\n      console.log(e);\n    });\n\n  const productsLastIndex = currentPage * pageSize;\n  const productsFirstIndex = productsLastIndex - pageSize;\n  const currentProducts = products.slice(productsFirstIndex, productsLastIndex);\n\n  // Setting up Modal\n  const setModal = modal => {\n    // search(\"\");\n    setActiveModal({ name: modal, active: true });\n  };\n\n  // Pagination\n  const paginate = page => {\n    setCurrentPage(page);\n  };\n\n  \n\n  // Create Product\n  const createProduct = async product => {\n    setActiveModal(false);\n    setLoading(true);\n\n    try {\n      await getCreatedProduct(product).then(res => {\n        const result = res.data;\n        MySwal.fire({\n          icon: \"success\",\n          title: \"Product created successfully.\"\n        }).then(() => {\n          dispatch({ type: \"CREATE_PRODUCT\", data: result });\n          setProducts([...products, result]);\n        });\n      });\n    } catch (err) {\n      MySwal.fire({\n        icon: \"error\",\n        title: \"Failed to create product.\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update Product\n  const updateRow = product => {\n    setModal(\"Update Product\");\n\n    setCurrentProduct({\n        id: product.id,\n        name: product.name,\n        image: product.image,\n        price: product.price,\n        description: product.description\n    });\n  };\n\n  const updateProduct = async (id, updatedProduct) => {\n    setActiveModal(false);\n    setLoading(true);\n\n    try {\n      await getUpdatedProduct(id, updatedProduct).then(res => {\n        const result = res.data;\n        MySwal.fire({\n          icon: \"success\",\n          title: \"Product updated successfully.\"\n        }).then(() => {\n          dispatch({\n            type: \"SET_PRODUCTS\",\n            data: products.map(product =>\n              product.id === id ? Object.assign(product, result) : product\n            )\n          });\n        });\n      });\n    } catch (err) {\n      MySwal.fire({\n        icon: \"error\",\n        title: \"Failed to update product.\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Delete Product\n  const deleteRow = product => {\n    setModal(\"Delete Product\");\n\n    setCurrentProduct({\n      id: product.id,\n      name: product.name,\n      image: product.image,\n      price: product.price,\n      description: product.description\n    });\n  };\n\n  const deleteProduct = async id => {\n    setActiveModal(false);\n    setLoading(true);\n\n    try {\n      await getDeletedProduct(id).then(() => {\n        MySwal.fire({\n          icon: \"success\",\n          title: \"Product deleted successfully.\"\n        }).then(() => {\n          dispatch({\n            type: \"SET_PRODUCTS\",\n            data: products.filter(product => product.id !== id)\n          });\n          setProducts(products.filter(product => product.id !== id));\n          setCurrentPage(1);\n        });\n      });\n    } catch (err) {\n      MySwal.fire({\n        icon: \"error\",\n        title: \"Failed to delete product.\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n\n  return (\n    <div className=\"app\">\n      <main className=\"content\">\n        <div className=\"container\">\n          {loading ? (\n            <Loader />\n          ) : (\n            <div className=\"content-wrapper\">\n              <div className=\"toolbar\">\n                <button\n                  className=\"primary-btn\"\n                  onClick={() => setModal(\"Create Product\")}\n                >\n                  Create New Product\n                </button>\n              </div>\n              <ProductTable\n                products={currentProducts}\n                updateRow={updateRow}\n                deleteRow={deleteRow}\n              />\n              <Pagination\n                totalResults={products.length}\n                currentPage={currentPage}\n                pageSize={pageSize}\n                paginate={paginate}\n              />\n            </div>\n          )}\n        </div>\n      </main>\n      {activeModal.active && (\n        <Modal activeModal={activeModal}>\n          {activeModal.name === \"Create Product\" && (\n            <CreateProduct\n              createProduct={createProduct}\n              setActiveModal={setActiveModal}\n            />\n          )}\n          {activeModal.name === \"Update Product\" && (\n            <UpdateProduct\n              currentProduct={currentProduct}\n              updateProduct={updateProduct}\n              setActiveModal={setActiveModal}\n            />\n          )}\n          {activeModal.name === \"Delete Product\" && (\n            <DeleteProduct\n              currentProduct={currentProduct}\n              deleteProduct={deleteProduct}\n              setActiveModal={setActiveModal}\n            />\n          )}\n        </Modal>\n      )}\n    </div>\n  );\n};"]},"metadata":{},"sourceType":"module"}